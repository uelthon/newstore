import{aw as b,q as w,h as c,t as h,j as e,K as o,B as y,y as i,ax as f,ay as U,f as x}from"./index.bbd83498.js";const P=({user:a})=>{const[n,{isLoading:u}]=b(),s=w();return c(h,{component:"form",sx:{display:"flex",flexDirection:"column",alignItems:"stretch",gap:"2rem"},onSubmit:async d=>{d.preventDefault();const{username:r,address:t}=d.target;if(!r.value&&!t.value)return s(i({desc:"Inputs are empty",type:"error"}));const l={...r.value.length>2&&{username:r.value},...t.value.length>2&&{address:t.value}};try{await n({id:a.id,body:l}).unwrap(),s(f(l)),s(i({desc:"Data Updated",type:"success"}))}catch(p){console.log(p),s(i({desc:"Username alredy exist",type:"error"}))}},children:[e("h3",{children:"Change Username and Address"}),e(o,{defaultValue:a.username,label:"Username",name:"username",required:!0}),e(o,{defaultValue:a.address,label:"Address",name:"address",required:!0}),e("div",{children:e(y,{type:"submit",variant:"contained",disabled:u,children:"Submit"})})]})},S=({user:a})=>{const[n,{isLoading:u}]=U(),s=w();return c(h,{component:"form",sx:{display:"flex",flexDirection:"column",alignItems:"stretch",gap:"2rem"},onSubmit:async d=>{d.preventDefault();const{currentpassword:r,newpassword:t,repeatpassword:l}=d.target;if(t.value!==l.value)return s(i({desc:"New password and Repeat password dont match",type:"error"}));const p={...r.value&&{currentpassword:r.value},...t.value&&{newpassword:t.value}};try{await n({id:a.id,body:p}).unwrap(),s(i({desc:"Password Updated",type:"success"}))}catch(g){console.log(g)}},children:[e("h3",{children:"Change Password"}),e(o,{type:"password",name:"currentpassword",label:"Current Password",required:!0}),e(o,{type:"password",name:"newpassword",label:"New Password",required:!0}),e(o,{type:"password",name:"repeatpassword",label:"Repeat Password",required:!0}),e("div",{children:e(y,{type:"submit",variant:"contained",disabled:u,children:"Submit"})})]})},_="_container_14sgg_1",q="_title_14sgg_17",D="_wrapper_14sgg_27",m={container:_,title:q,wrapper:D},N=()=>{const a=x(n=>n.user.value);return c("div",{className:m.container,children:[e("div",{className:m.title,children:e("h1",{children:"Edit Profile"})}),c("div",{className:m.wrapper,children:[e(P,{user:a}),e(S,{user:a})]})]})},j=N;export{j as default};
