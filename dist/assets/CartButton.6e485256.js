import{l as C,m as w,n as x,r as g,f as _,p as P,q as j,h as c,t as q,v as z,F as I,j as t,I as M,S as B,M as l,w as D,B as R,x as H,y as n,z as f}from"./index.bbd83498.js";var d={},$=w.exports;Object.defineProperty(d,"__esModule",{value:!0});var m=d.default=void 0,F=$(C()),L=x,N=(0,F.default)((0,L.jsx)("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"}),"ShoppingCart");m=d.default=N;const A=({id:u})=>{var h;const[i,b]=g.exports.useState(1),e=_(a=>a.cart.value),[p]=P(),s=(h=e==null?void 0:e.products)==null?void 0:h.find(a=>a.product===u),r=j(),y=async a=>{if(a.preventDefault(),!e)return r(n({desc:"Login Please",type:"error"}));const S={product:u,quantity:i};if(!s){const o=[...e.products,S];return await p({id:e.user,body:{products:o}}).unwrap(),r(f(o)),r(n({desc:"Product has been added to cart",type:"success"}))}const v=e.products.filter(o=>o.product!==u);return await p({id:e.user,body:{products:v}}).unwrap(),r(f(v)),r(n({desc:"Product has been removed to cart",type:"warning"}))};return c(q,{className:z.container,component:"form",onSubmit:y,children:[c(I,{fullWidth:!0,children:[t(M,{id:"select-label",children:"Quantity"}),c(B,{size:"small",labelId:"select-label",value:i,label:"Quantity",onChange:a=>b(a.target.value),disabled:Boolean(s),children:[t(l,{value:1,children:"1"}),t(l,{value:2,children:"2"}),t(l,{value:3,children:"3"})]})]}),t(D,{title:s?"Remove to Cart":"Add to Cart",children:t(R,{size:"small",type:"submit",children:s?t(H,{color:"error"}):t(m,{})})})]})};export{A as C};
