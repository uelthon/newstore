import{r as C,i as g,e as w,h as x,u as _,p as P,a as j,c,q,t as I,g as M,j as t,I as z,S as B,M as l,v as D,B as R,w as H,x as n,y as f}from"./index.97f4ede1.js";var d={},$=g.exports;Object.defineProperty(d,"__esModule",{value:!0});var m=d.default=void 0,L=$(C()),N=w,Q=(0,L.default)((0,N.jsx)("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"}),"ShoppingCart");m=d.default=Q;const F=({id:u})=>{var h;const[i,b]=x.exports.useState(1),e=_(a=>a.cart.value),[p]=P(),s=(h=e==null?void 0:e.products)==null?void 0:h.find(a=>a.product===u),r=j(),y=async a=>{if(a.preventDefault(),!e)return r(n({desc:"Login Please",type:"error"}));const S={product:u,quantity:i};if(!s){const o=[...e.products,S];return await p({id:e.user,body:{products:o}}).unwrap(),r(f(o)),r(n({desc:"Product has been added to cart",type:"success"}))}const v=e.products.filter(o=>o.product!==u);return await p({id:e.user,body:{products:v}}).unwrap(),r(f(v)),r(n({desc:"Product has been removed to cart",type:"warning"}))};return c(q,{className:I.container,component:"form",onSubmit:y,children:[c(M,{fullWidth:!0,children:[t(z,{id:"select-label",children:"Quantity"}),c(B,{size:"small",labelId:"select-label",value:i,label:"Quantity",onChange:a=>b(a.target.value),disabled:Boolean(s),children:[t(l,{value:1,children:"1"}),t(l,{value:2,children:"2"}),t(l,{value:3,children:"3"})]})]}),t(D,{title:s?"Remove to Cart":"Add to Cart",children:t(R,{size:"small",type:"submit",children:s?t(H,{color:"error"}):t(m,{})})})]})};export{F as C};
