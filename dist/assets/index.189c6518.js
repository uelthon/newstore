import{au as b,a as w,c,q as h,j as e,ai as o,B as v,x as i,av as f,aw as U,u as x}from"./index.97f4ede1.js";const P=({user:a})=>{const[n,{isLoading:u}]=b(),s=w();return c(h,{component:"form",sx:{display:"flex",flexDirection:"column",alignItems:"stretch",gap:"2rem"},onSubmit:async d=>{d.preventDefault();const{username:t,address:r}=d.target;if(!t.value&&!r.value)return s(i({desc:"Inputs are empty",type:"error"}));const l={...t.value.length>2&&{username:t.value},...r.value.length>2&&{address:r.value}};try{await n({id:a.id,body:l}).unwrap(),s(f(l)),s(i({desc:"Data Updated",type:"success"}))}catch(p){console.log(p),s(i({desc:"Username alredy exist",type:"error"}))}},children:[e("h3",{children:"Change Username and Address"}),e(o,{defaultValue:a.username,label:"Username",name:"username",required:!0}),e(o,{defaultValue:a.address,label:"Address",name:"address",required:!0}),e("div",{children:e(v,{type:"submit",variant:"contained",disabled:u,children:"Submit"})})]})},S=({user:a})=>{const[n,{isLoading:u}]=U(),s=w();return c(h,{component:"form",sx:{display:"flex",flexDirection:"column",alignItems:"stretch",gap:"2rem"},onSubmit:async d=>{d.preventDefault();const{currentpassword:t,newpassword:r,repeatpassword:l}=d.target;if(r.value!==l.value)return s(i({desc:"New password and Repeat password dont match",type:"error"}));const p={...t.value&&{currentpassword:t.value},...r.value&&{newpassword:r.value}};try{await n({id:a.id,body:p}).unwrap(),s(i({desc:"Password Updated",type:"success"}))}catch(y){console.log(y)}},children:[e("h3",{children:"Change Password"}),e(o,{type:"password",name:"currentpassword",label:"Current Password",required:!0}),e(o,{type:"password",name:"newpassword",label:"New Password",required:!0}),e(o,{type:"password",name:"repeatpassword",label:"Repeat Password",required:!0}),e("div",{children:e(v,{type:"submit",variant:"contained",disabled:u,children:"Submit"})})]})},_="_container_14sgg_1",q="_title_14sgg_17",D="_wrapper_14sgg_27",m={container:_,title:q,wrapper:D},C=()=>{const a=x(n=>n.user.value);return c("div",{className:m.container,children:[e("div",{className:m.title,children:e("h1",{children:"Edit Profile"})}),c("div",{className:m.wrapper,children:[e(P,{user:a}),e(S,{user:a})]})]})};export{C as default};
